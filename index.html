<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparador de Drones Militares</title>
    <style>
        :root {
            --color-bg-base: #0f172a;
            --color-bg-elevated: #020617;
            --color-bg-surface: #1e293b;
            --color-bg-muted: #334155;
            --color-text-primary: #f1f5f9;
            --color-text-secondary: #cbd5e1;
            --color-text-muted: #94a3b8;
            --color-text-accent: #38bdf8;
            --color-primary: #38bdf8;
            --color-primary-hover: #0ea5e9;
            --color-border: rgba(148, 163, 184, 0.2);
            --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        @media (prefers-color-scheme: light) {
            :root {
                --color-bg-base: #ffffff;
                --color-bg-elevated: #f8fafc;
                --color-bg-surface: #f1f5f9;
                --color-bg-muted: #e2e8f0;
                --color-text-primary: #0f172a;
                --color-text-secondary: #475569;
                --color-text-muted: #64748b;
                --color-text-accent: #0284c7;
                --color-primary: #0284c7;
                --color-primary-hover: #0369a1;
                --color-border: rgba(148, 163, 184, 0.3);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-base);
            background: var(--color-bg-base);
            color: var(--color-text-primary);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: var(--color-bg-surface);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid var(--color-border);
        }

        h1 {
            color: var(--color-primary);
            margin-bottom: 10px;
            font-size: 2rem;
        }

        .subtitle {
            color: var(--color-text-secondary);
            font-size: 0.95rem;
        }

        .upload-section {
            background: var(--color-bg-surface);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid var(--color-border);
        }

        .upload-section h2 {
            color: var(--color-text-primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .file-input-wrapper {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        input[type="file"] {
            flex: 1;
            padding: 12px;
            background: var(--color-bg-muted);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            color: var(--color-text-primary);
            font-size: 0.95rem;
        }

        input[type="file"]::file-selector-button {
            background: var(--color-primary);
            color: var(--color-bg-base);
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            margin-right: 10px;
        }

        input[type="file"]::file-selector-button:hover {
            background: var(--color-primary-hover);
        }

        .btn {
            padding: 12px 24px;
            background: var(--color-primary);
            color: var(--color-bg-base);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            transition: background 0.3s;
        }

        .btn:hover {
            background: var(--color-primary-hover);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .info-message {
            background: rgba(56, 189, 248, 0.15);
            border: 1px solid rgba(56, 189, 248, 0.3);
            padding: 12px 16px;
            border-radius: 8px;
            color: var(--color-text-secondary);
            font-size: 0.9rem;
        }

        .filters-section {
            background: var(--color-bg-surface);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid var(--color-border);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-group label {
            color: var(--color-text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .filter-group select,
        .filter-group input {
            padding: 10px 12px;
            background: var(--color-bg-muted);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            color: var(--color-text-primary);
            font-size: 0.95rem;
        }

        .comparison-section {
            background: var(--color-bg-surface);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid var(--color-border);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: var(--color-bg-muted);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--color-border);
        }

        .stat-label {
            color: var(--color-text-muted);
            font-size: 0.85rem;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            color: var(--color-primary);
            font-size: 1.8rem;
            font-weight: 600;
        }

        .table-container {
            overflow-x: auto;
            border-radius: 10px;
            border: 1px solid var(--color-border);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--color-bg-surface);
        }

        thead {
            background: var(--color-bg-muted);
        }

        th {
            padding: 15px 12px;
            text-align: left;
            color: var(--color-text-primary);
            font-weight: 600;
            font-size: 0.9rem;
            border-bottom: 2px solid var(--color-border);
            white-space: nowrap;
        }

        td {
            padding: 15px 12px;
            color: var(--color-text-secondary);
            border-bottom: 1px solid var(--color-border);
            font-size: 0.9rem;
        }

        tbody tr:hover {
            background: var(--color-bg-muted);
        }

        .checkbox-cell {
            text-align: center;
            width: 60px;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--color-primary);
        }

        .highlight-best {
            color: var(--color-primary);
            font-weight: 600;
        }

        .no-data {
            text-align: center;
            padding: 60px 20px;
            color: var(--color-text-muted);
        }

        .no-data-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        .compare-button-container {
            margin-top: 20px;
            text-align: center;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            overflow-y: auto;
        }

        .modal-content {
            background: var(--color-bg-surface);
            margin: 50px auto;
            padding: 30px;
            border-radius: 12px;
            max-width: 1200px;
            border: 1px solid var(--color-border);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-header h2 {
            color: var(--color-primary);
            font-size: 1.5rem;
        }

        .close {
            color: var(--color-text-muted);
            font-size: 2rem;
            font-weight: 300;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: var(--color-text-primary);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .drone-card {
            background: var(--color-bg-muted);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid var(--color-border);
        }

        .drone-card h3 {
            color: var(--color-primary);
            margin-bottom: 20px;
            font-size: 1.3rem;
            border-bottom: 2px solid var(--color-border);
            padding-bottom: 10px;
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--color-border);
        }

        .spec-item:last-child {
            border-bottom: none;
        }

        .spec-label {
            color: var(--color-text-muted);
            font-size: 0.9rem;
        }

        .spec-value {
            color: var(--color-text-primary);
            font-weight: 500;
            text-align: right;
        }

        @media (max-width: 768px) {
            .filters-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üõ∏ Comparador de Drones Militares</h1>
            <p class="subtitle">An√°lisis y comparaci√≥n de prestaciones t√©cnicas de sistemas a√©reos no tripulados</p>
        </header>

        <div class="upload-section">
            <h2>üìÅ Cargar Datos desde Excel</h2>
            <div class="file-input-wrapper">
                <input type="file" id="excelFile" accept=".xlsx,.xls" aria-label="Seleccionar archivo Excel">
                <button class="btn" onclick="loadExcelFile()">Cargar Datos</button>
            </div>
            <div class="info-message">
                üí° <strong>Formato del archivo:</strong> El archivo Excel debe contener columnas como: Modelo, Fabricante, Tipo, Envergadura, Peso M√°ximo, Carga √ötil, Autonom√≠a, Velocidad M√°xima, Techo Operacional, Alcance, etc.
            </div>
        </div>

        <div class="filters-section">
            <h2>üîç Filtros y B√∫squeda</h2>
            <div class="filters-grid">
                <div class="filter-group">
                    <label for="typeFilter">Tipo de Drone</label>
                    <select id="typeFilter" onchange="applyFilters()">
                        <option value="">Todos los tipos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="manufacturerFilter">Fabricante</label>
                    <select id="manufacturerFilter" onchange="applyFilters()">
                        <option value="">Todos los fabricantes</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="searchInput">Buscar modelo</label>
                    <input type="text" id="searchInput" placeholder="Nombre del modelo..." oninput="applyFilters()">
                </div>
                <div class="filter-group">
                    <label for="sortBy">Ordenar por</label>
                    <select id="sortBy" onchange="applyFilters()">
                        <option value="">Sin ordenar</option>
                        <option value="modelo">Modelo (A-Z)</option>
                        <option value="peso">Peso m√°ximo</option>
                        <option value="autonomia">Autonom√≠a</option>
                        <option value="velocidad">Velocidad m√°xima</option>
                        <option value="alcance">Alcance</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="comparison-section">
            <h2>üìä Estad√≠sticas Generales</h2>
            <div class="stats-grid" id="statsGrid">
                <div class="stat-card">
                    <div class="stat-label">Total Drones</div>
                    <div class="stat-value" id="totalDrones">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Fabricantes</div>
                    <div class="stat-value" id="totalManufacturers">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Autonom√≠a M√°xima</div>
                    <div class="stat-value" id="maxEndurance">0h</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Velocidad M√°xima</div>
                    <div class="stat-value" id="maxSpeed">0 km/h</div>
                </div>
            </div>
        </div>

        <div class="comparison-section">
            <h2>üìã Lista de Drones</h2>
            <div class="table-container">
                <table id="dronesTable">
                    <thead>
                        <tr>
                            <th class="checkbox-cell">
                                <input type="checkbox" id="selectAll" onchange="toggleSelectAll()" aria-label="Seleccionar todos">
                            </th>
                            <th>Modelo</th>
                            <th>Fabricante</th>
                            <th>Tipo</th>
                            <th>Peso M√°x. (kg)</th>
                            <th>Carga √ötil (kg)</th>
                            <th>Autonom√≠a (h)</th>
                            <th>Velocidad M√°x. (km/h)</th>
                            <th>Alcance (km)</th>
                            <th>Techo (m)</th>
                        </tr>
                    </thead>
                    <tbody id="dronesTableBody">
                        <tr>
                            <td colspan="10" class="no-data">
                                <div class="no-data-icon">üì¶</div>
                                <p>No hay datos cargados. Por favor, carga un archivo Excel para comenzar.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="compare-button-container">
                <button class="btn" id="compareBtn" onclick="showComparison()" disabled>Comparar Seleccionados</button>
            </div>
        </div>
    </div>

    <div id="comparisonModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Comparaci√≥n Detallada</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="comparison-grid" id="comparisonGrid"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        let dronesData = [];
        let filteredData = [];

        const sampleData = [
            {
                modelo: "MQ-9 Reaper",
                fabricante: "General Atomics",
                tipo: "MALE",
                envergadura: 20,
                pesoMaximo: 4760,
                cargaUtil: 1700,
                autonomia: 27,
                velocidadMaxima: 482,
                techoOperacional: 15240,
                alcance: 1850
            },
            {
                modelo: "Bayraktar TB2",
                fabricante: "Baykar",
                tipo: "MALE",
                envergadura: 12,
                pesoMaximo: 700,
                cargaUtil: 150,
                autonomia: 20,
                velocidadMaxima: 220,
                techoOperacional: 6700,
                alcance: 150
            },
            {
                modelo: "RQ-4 Global Hawk",
                fabricante: "Northrop Grumman",
                tipo: "HALE",
                envergadura: 39.9,
                pesoMaximo: 14628,
                cargaUtil: 1360,
                autonomia: 32,
                velocidadMaxima: 574,
                techoOperacional: 18288,
                alcance: 22780
            },
            {
                modelo: "Anduril Bolt",
                fabricante: "Anduril Industries",
                tipo: "T√°ctico",
                envergadura: 0.9,
                pesoMaximo: 5.4,
                cargaUtil: 1.4,
                autonomia: 0.75,
                velocidadMaxima: 90,
                techoOperacional: 1500,
                alcance: 20
            },
            {
                modelo: "Anduril Altius-700",
                fabricante: "Anduril Industries",
                tipo: "Loitering Munition",
                envergadura: 3.4,
                pesoMaximo: 130,
                cargaUtil: 29,
                autonomia: 5,
                velocidadMaxima: 185,
                techoOperacional: 6000,
                alcance: 482
            },
            {
                modelo: "Wing Loong II",
                fabricante: "AVIC",
                tipo: "MALE",
                envergadura: 20.5,
                pesoMaximo: 4200,
                cargaUtil: 480,
                autonomia: 20,
                velocidadMaxima: 370,
                techoOperacional: 9000,
                alcance: 4000
            },
            {
                modelo: "Hermes 900",
                fabricante: "Elbit Systems",
                tipo: "MALE",
                envergadura: 15,
                pesoMaximo: 1180,
                cargaUtil: 350,
                autonomia: 36,
                velocidadMaxima: 220,
                techoOperacional: 9144,
                alcance: 200
            },
            {
                modelo: "CH-5",
                fabricante: "CASC",
                tipo: "MALE",
                envergadura: 21,
                pesoMaximo: 3300,
                cargaUtil: 1000,
                autonomia: 60,
                velocidadMaxima: 300,
                techoOperacional: 9000,
                alcance: 6500
            }
        ];

        function initializeWithSampleData() {
            dronesData = [...sampleData];
            filteredData = [...sampleData];
            updateTable();
            updateFilters();
            updateStats();
        }

        function loadExcelFile() {
            const fileInput = document.getElementById('excelFile');
            const file = fileInput.files[0];

            if (!file) {
                alert('Por favor selecciona un archivo Excel primero.');
                return;
            }

            const reader = new FileReader();

            reader.onload = function(e) {
                try {
                    const data = new Uint8Array(e.target.result);
                    const workbook = XLSX.read(data, { type: 'array' });
                    const firstSheet = workbook.Sheets[workbook.SheetNames[0]];
                    const jsonData = XLSX.utils.sheet_to_json(firstSheet);

                    if (jsonData.length === 0) {
                        alert('El archivo Excel est√° vac√≠o o no tiene el formato correcto.');
                        return;
                    }

                    dronesData = jsonData.map(row => ({
                        modelo: row.Modelo || row.modelo || '',
                        fabricante: row.Fabricante || row.fabricante || '',
                        tipo: row.Tipo || row.tipo || '',
                        envergadura: parseFloat(row.Envergadura || row.envergadura) || 0,
                        pesoMaximo: parseFloat(row['Peso M√°ximo'] || row['Peso Maximo'] || row.pesoMaximo) || 0,
                        cargaUtil: parseFloat(row['Carga √ötil'] || row['Carga Util'] || row.cargaUtil) || 0,
                        autonomia: parseFloat(row.Autonom√≠a || row.Autonomia || row.autonomia) || 0,
                        velocidadMaxima: parseFloat(row['Velocidad M√°xima'] || row['Velocidad Maxima'] || row.velocidadMaxima) || 0,
                        techoOperacional: parseFloat(row['Techo Operacional'] || row.techoOperacional) || 0,
                        alcance: parseFloat(row.Alcance || row.alcance) || 0
                    }));

                    filteredData = [...dronesData];
                    updateTable();
                    updateFilters();
                    updateStats();
                    alert(`‚úÖ Datos cargados correctamente: ${dronesData.length} drones`);
                } catch (error) {
                    alert('Error al procesar el archivo Excel. Verifica que el formato sea correcto.');
                    console.error(error);
                }
            };

            reader.readAsArrayBuffer(file);
        }

        function updateTable() {
            const tbody = document.getElementById('dronesTableBody');

            if (filteredData.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="10" class="no-data">
                            <div class="no-data-icon">üîç</div>
                            <p>No se encontraron drones con los filtros aplicados.</p>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = filteredData.map((drone, index) => `
                <tr>
                    <td class="checkbox-cell">
                        <input type="checkbox" class="drone-checkbox" data-index="${index}" onchange="updateCompareButton()">
                    </td>
                    <td><strong>${drone.modelo}</strong></td>
                    <td>${drone.fabricante}</td>
                    <td>${drone.tipo}</td>
                    <td>${drone.pesoMaximo ? drone.pesoMaximo.toLocaleString() : '-'}</td>
                    <td>${drone.cargaUtil ? drone.cargaUtil.toLocaleString() : '-'}</td>
                    <td>${drone.autonomia || '-'}</td>
                    <td>${drone.velocidadMaxima || '-'}</td>
                    <td>${drone.alcance ? drone.alcance.toLocaleString() : '-'}</td>
                    <td>${drone.techoOperacional ? drone.techoOperacional.toLocaleString() : '-'}</td>
                </tr>
            `).join('');
        }

        function updateFilters() {
            const types = [...new Set(dronesData.map(d => d.tipo).filter(Boolean))];
            const manufacturers = [...new Set(dronesData.map(d => d.fabricante).filter(Boolean))];

            const typeFilter = document.getElementById('typeFilter');
            typeFilter.innerHTML = '<option value="">Todos los tipos</option>' +
                types.map(type => `<option value="${type}">${type}</option>`).join('');

            const manufacturerFilter = document.getElementById('manufacturerFilter');
            manufacturerFilter.innerHTML = '<option value="">Todos los fabricantes</option>' +
                manufacturers.map(mfr => `<option value="${mfr}">${mfr}</option>`).join('');
        }

        function updateStats() {
            const totalDrones = dronesData.length;
            const totalManufacturers = new Set(dronesData.map(d => d.fabricante).filter(Boolean)).size;
            const maxEndurance = Math.max(...dronesData.map(d => d.autonomia || 0));
            const maxSpeed = Math.max(...dronesData.map(d => d.velocidadMaxima || 0));

            document.getElementById('totalDrones').textContent = totalDrones;
            document.getElementById('totalManufacturers').textContent = totalManufacturers;
            document.getElementById('maxEndurance').textContent = maxEndurance ? `${maxEndurance}h` : '0h';
            document.getElementById('maxSpeed').textContent = maxSpeed ? `${maxSpeed} km/h` : '0 km/h';
        }

        function applyFilters() {
            const typeFilter = document.getElementById('typeFilter').value;
            const manufacturerFilter = document.getElementById('manufacturerFilter').value;
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            const sortBy = document.getElementById('sortBy').value;

            filteredData = dronesData.filter(drone => {
                const matchType = !typeFilter || drone.tipo === typeFilter;
                const matchManufacturer = !manufacturerFilter || drone.fabricante === manufacturerFilter;
                const matchSearch = !searchInput || drone.modelo.toLowerCase().includes(searchInput);
                return matchType && matchManufacturer && matchSearch;
            });

            if (sortBy) {
                filteredData.sort((a, b) => {
                    if (sortBy === 'modelo') return a.modelo.localeCompare(b.modelo);
                    if (sortBy === 'peso') return (b.pesoMaximo || 0) - (a.pesoMaximo || 0);
                    if (sortBy === 'autonomia') return (b.autonomia || 0) - (a.autonomia || 0);
                    if (sortBy === 'velocidad') return (b.velocidadMaxima || 0) - (a.velocidadMaxima || 0);
                    if (sortBy === 'alcance') return (b.alcance || 0) - (a.alcance || 0);
                    return 0;
                });
            }

            updateTable();
            document.getElementById('selectAll').checked = false;
            updateCompareButton();
        }

        function toggleSelectAll() {
            const selectAll = document.getElementById('selectAll').checked;
            document.querySelectorAll('.drone-checkbox').forEach(checkbox => {
                checkbox.checked = selectAll;
            });
            updateCompareButton();
        }

        function updateCompareButton() {
            const selectedCount = document.querySelectorAll('.drone-checkbox:checked').length;
            const compareBtn = document.getElementById('compareBtn');
            compareBtn.disabled = selectedCount === 0;
            compareBtn.textContent = selectedCount > 0 ? 
                `Comparar Seleccionados (${selectedCount})` : 
                'Comparar Seleccionados';
        }

        function showComparison() {
            const selectedCheckboxes = document.querySelectorAll('.drone-checkbox:checked');
            const selectedDrones = Array.from(selectedCheckboxes).map(cb => {
                const index = parseInt(cb.dataset.index);
                return filteredData[index];
            });

            if (selectedDrones.length === 0) return;

            const comparisonGrid = document.getElementById('comparisonGrid');
            comparisonGrid.innerHTML = selectedDrones.map(drone => `
                <div class="drone-card">
                    <h3>${drone.modelo}</h3>
                    <div class="spec-item">
                        <span class="spec-label">Fabricante</span>
                        <span class="spec-value">${drone.fabricante}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Tipo</span>
                        <span class="spec-value">${drone.tipo}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Envergadura</span>
                        <span class="spec-value">${drone.envergadura ? drone.envergadura + ' m' : '-'}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Peso M√°ximo</span>
                        <span class="spec-value">${drone.pesoMaximo ? drone.pesoMaximo.toLocaleString() + ' kg' : '-'}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Carga √ötil</span>
                        <span class="spec-value">${drone.cargaUtil ? drone.cargaUtil.toLocaleString() + ' kg' : '-'}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Autonom√≠a</span>
                        <span class="spec-value">${drone.autonomia ? drone.autonomia + ' h' : '-'}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Velocidad M√°xima</span>
                        <span class="spec-value">${drone.velocidadMaxima ? drone.velocidadMaxima + ' km/h' : '-'}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Techo Operacional</span>
                        <span class="spec-value">${drone.techoOperacional ? drone.techoOperacional.toLocaleString() + ' m' : '-'}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Alcance</span>
                        <span class="spec-value">${drone.alcance ? drone.alcance.toLocaleString() + ' km' : '-'}</span>
                    </div>
                </div>
            `).join('');

            document.getElementById('comparisonModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('comparisonModal').style.display = 'none';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('comparisonModal');
            if (event.target === modal) {
                closeModal();
            }
        };

        initializeWithSampleData();
    </script>
</body>
</html>
